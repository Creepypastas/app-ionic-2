<ion-toolbar darks>
  <ion-title>
    Configuración
  </ion-title>
  <ion-buttons start>
    <button (click)="close()">
      <span primary showWhen="ios">Cancel</span>
      <ion-icon secondary name="md-close" hideWhen="ios"></ion-icon>
    </button>
  </ion-buttons>
</ion-toolbar>

<ion-content>

  <div>
    <ion-segment [(ngModel)]="configSegment">
      <ion-segment-button value="user">
        Cuenta
      </ion-segment-button>
      <ion-segment-button value="team">
        Clanes
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch]="configSegment">
    <ion-list *ngSwitchWhen="'user'" no-lines>
      <ion-item>
        <ion-card>
          <ion-card-header>
            <span secondary>Configura tu cuenta</span>
          </ion-card-header>
          <ion-card-content>
            Las cuentas están desactivadas.
          </ion-card-content>
        </ion-card>
      </ion-item>
      <ion-item>
        <ion-label floating>Usuario</ion-label>
        <ion-input disabled="true" type="text" [(ngModel)]="user.credentials.username"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Contraseña</ion-label>
        <ion-input disabled="true" type="password" [(ngModel)]="user.credentials.token"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>Recordar</ion-label>
        <ion-checkbox checked="true" disabled="true"></ion-checkbox>
      </ion-item>
    </ion-list>

    <div *ngSwitchWhen="'team'" no-lines>

      <ion-card>
        <ion-card-content>
          <ion-card-title>
            <span secondary>Entrar a un clan</span>
          </ion-card-title>
          <ion-list no-lines>
            <ion-item no-lines>
              <ion-label floating no-lines>Nombre del clan</ion-label>
              <ion-input type="text" no-lines [(ngModel)]="user.newGang.name"></ion-input>
            </ion-item>
          </ion-list>
        </ion-card-content>
        <ion-item>
          <ion-note  item-right>
            <span danger *ngClick="startNewGang()" >
              Nuevo clan <ion-icon name="add"></ion-icon>
            </span>
          </ion-note>
        </ion-item>
      </ion-card>

      <ion-card *ngFor="#clan of user.gangs">
        <ion-card-content>
          <ion-card-title>
            <span secondary>Clan {{clan.name}}</span>
          </ion-card-title>
        </ion-card-content>
        <ion-item>
          <button primary clear item-left>
            <ion-icon name="people"></ion-icon>
            <div>{{clan.people}}</div>
          </button>
          <ion-note  item-right>
            <span danger>
              Abandonar <ion-icon name="exit"></ion-icon>
            </span>
          </ion-note>
        </ion-item>
      </ion-card>

    </div>
  </div>
</ion-content>
